{% load static %}
{% block content %}


<table class="table table-striped custom-table table-nowrap mb-0">
	<thead>
		<tr>
			<th>Employee</th>			
			{% for number in numbers %}
			    <th>{{ number }}</th>
			{% endfor %}
		</tr>
	</thead>
	<tbody>
		{% for employee in employee_data_list %}
		<tr>
			<td>
				<h2 class="table-avatar">
					<a class="avatar avatar-xs" href="{% url 'profile' employee.id %}">
						{% if employee.image_url|length > 0 %}
                        <img src="{{ employee.image_url }}" alt="User Image">
                        {% else %}
                            <img src="{% static 'assets/img/user/dummy-profile-pic.jpg' %}" alt="Close Icon">
                        {% endif %}
					</a>
					<a href="{% url 'profile' employee.id %}">
						{% if employee.first_name and employee.last_name %}
                        {{ employee.first_name }} {{ employee.last_name }}
                        {% else %}
                        {{ employee.user_name }}
                        {% endif %}
					</a>
				</h2>
			</td>
			{% if employee.attendance %}
				{% for att in employee.attendance %}
					{% if att.in_time %}
				        <td data-bs-toggle="tooltip" title="{{ att.status }}"><a href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#attendance_info"><i class="fa-solid fa-check text-success"></i></a></td>
				    {% else %}
				        <td data-bs-toggle="tooltip" title="{{ att.status|default:'Holiday' }}"><i class="fa fa-close text-danger"></i> </td>
				    {% endif %}
				{% endfor %}
			{% else %}
		        {% for key_id,date_information in employee_holiday.items %}
					{% if employee.id == key_id %}
						{% for date_info in date_information %}
		            		{% if date_info.is_weekend or date_info.is_holiday or date_info.is_leave or date_info.is_half_day_leave %}
		            			{% if date_info.is_half_day_leave %}
		            				{% if date_info.half_day_type == 2 %}
		            					<td>
										<div class="half-day">
										<span class="first-off"><i class="fa fa-close text-leave"></i></span>
										<span class="first-off"><a href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#attendance_info"><i class="fa-solid fa-check text-success"></i></a></span>
										</div>
										</td>
									{% elif date_info.half_day_type == 3 %}
										<td data-bs-toggle="tooltip" title="{{ att.status|default:'Holiday' }}">
											<div class="half-day">
											<span class="first-off"><a href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#attendance_info"><i class="fa-solid fa-check text-success"></i></a></span>
											<span class="first-off"><i class="fa fa-close text-leave"></i></span>
											</div>
										</td>
									{% elif date_info.is_leave %}
										<td data-bs-toggle="tooltip" title="{{ att.status|default:'Leave' }}"><i class="fa fa-close text-leave"></i> </td>
		            				{% else %}
			            				<td data-bs-toggle="tooltip" title="{{ att.status|default:'Holiday' }}"><i class="fa fa-close text-danger"></i> </td>
			            			{% endif %}
			                    {% elif date_info.is_weekend  %}
										<td data-bs-toggle="tooltip" title="{{ att.status|default:'Weekend' }}"><i class="fa fa-close text-grey"></i> </td>
		            			{% elif date_info.is_leave %}
									<td data-bs-toggle="tooltip" title="{{ att.status|default:'Leave' }}"><i class="fa fa-close text-leave"></i> </td>
		            			{% else %}
		            				<td data-bs-toggle="tooltip" title="{{ att.status|default:'Holiday' }}"><i class="fa fa-close text-danger"></i> </td>
		            			{% endif %}
		            		{% else %}
		            			<td data-bs-toggle="tooltip" title="{{ att.status }}"><a href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#attendance_info"><i class="fa-solid fa-check text-success"></i></a></td> 
		            		{% endif %}
						{% endfor %}
					{% endif %}
				{% endfor %}				
			{% endif %}
		</tr>
		{% endfor %}
	</tbody>
</table>




{% endblock %}

			

		